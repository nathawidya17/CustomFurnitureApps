<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script type="importmap">
    {
        "imports": {
            "three": "https://unpkg.com/three@0.160.0/build/three.module.js",
            "three/addons/": "https://unpkg.com/three@0.160.0/examples/jsm/"
        }
    }
    </script>
    <title>3D Rak Kustomisasi</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none; height: 20px; width: 20px; border-radius: 50%;
            background: #e67e22; cursor: pointer; border: 2px solid white; margin-top: -6px;
        }
        input[type=range]::-webkit-slider-runnable-track {
            width: 100%; height: 8px; background: #e5e7eb; border-radius: 4px;
        }
        body { overflow: hidden; }
        
    </style>
</head>
<body class="bg-[#f3f4f6]">
    <div id="app-container" class="flex h-screen w-screen">
        <div id="controls" class="w-[380px] h-full bg-white shadow-2xl z-20 flex flex-col overflow-y-auto">
            <div class="bg-[#e67e22] text-white p-8">
                <a href="catalog.html" class="flex items-center text-white/90 hover:text-white mb-6 text-sm font-medium">
                    <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M15 19l-7-7 7-7" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
                    Kembali ke Katalog
                </a>
                <h3 class="text-3xl font-bold tracking-tight">Custom Rak</h3>
                <p class="text-white/80 mt-2 text-base">Sesuaikan dengan kebutuhan Anda</p>
            </div>

            <div class="p-8 space-y-10">
                <section>
                    <h4 class="text-xs font-bold text-gray-400 uppercase tracking-widest mb-6">DIMENSI</h4>
                    <div class="space-y-6">
                        <div class="control-group">
                            <label class="flex justify-between items-center mb-4 text-gray-600 font-medium">
                                <span>Lebar</span>
                                <span class="text-[#e67e22] font-bold text-lg"><span id="widthValue">120</span> cm</span>
                            </label>
                            <input type="range" id="width" min="50" max="300" step="1" value="120" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer">
                        </div>

                        <div class="control-group">
                            <label class="flex justify-between items-center mb-4 text-gray-600 font-medium">
                                <span>Tinggi</span>
                                <span class="text-[#e67e22] font-bold text-lg"><span id="heightValue">150</span> cm</span>
                            </label>
                            <input type="range" id="height" min="50" max="300" step="1" value="150" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer">
                        </div>

                        <div class="control-group">
                            <label class="flex justify-between items-center mb-4 text-gray-600 font-medium">
                                <span>Kedalaman</span>
                                <span class="text-[#e67e22] font-bold text-lg"><span id="depthValue">100</span> cm</span>
                            </label>
                            <input type="range" id="depth" min="30" max="200" step="1" value="100" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer">
                        </div>
                    </div>
                </section>

                <hr class="border-gray-100">

            <section id="rackLayoutControls">
    <h4 id="layoutTitle" class="text-xs font-bold text-gray-400 uppercase tracking-widest mb-6">KONFIGURASI LAYOUT</h4>
    <div class="grid grid-cols-2 gap-6">
        <div id="colControl">
            <label class="block text-gray-600 text-sm font-medium mb-3">Kolom (<span id="rackColsValue">2</span>)</label>
            <input type="number" id="rackCols" min="1" max="5" value="2" class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#e67e22] outline-none">
        </div>
        <div id="rowControl">
            <label id="rowLabel" class="block text-gray-600 text-sm font-medium mb-3">Baris (<span id="rackRowsValue">3</span>)</label>
            <input type="number" id="rackRows" min="1" max="5" value="3" class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#e67e22] outline-none">
        </div>
    </div>
</section>
<section class="border-t pt-6">
    <h4 class="text-xs font-bold text-gray-400 uppercase mb-4 tracking-widest">Warna Furnitur</h4>
    <div class="flex gap-3">
        <button onclick="changeProductColor('#ffffff')" class="w-8 h-8 rounded-full border border-gray-300 shadow-sm" style="background-color: #ffffff;"></button>
        <button onclick="changeProductColor('#5d4037')" class="w-8 h-8 rounded-full border shadow-sm" style="background-color: #5d4037;"></button>
        <button onclick="changeProductColor('#2c3e50')" class="w-8 h-8 rounded-full border shadow-sm" style="background-color: #2c3e50;"></button>
        <button onclick="changeProductColor('#e67e22')" class="w-8 h-8 rounded-full border shadow-sm" style="background-color: #e67e22;"></button>
        <input type="color" id="customColorPicker" oninput="changeProductColor(this.value)" class="w-8 h-8 p-0 border-0 bg-transparent cursor-pointer">
    </div>
</section>

<script>
    function changeProductColor(color) {
        if (window.appChangeColor) window.appChangeColor(color);
    }
</script>

            
            </div>
        </div>

        <div id="canvas-area" class="flex-1 relative bg-[#f8fafc]">
            <div class="absolute top-6 right-6 bg-black/40 backdrop-blur-md p-5 rounded-2xl text-white z-30 min-w-[220px]">
                <div class="flex items-center gap-4">
                    <div class="bg-white/20 p-2.5 rounded-xl">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
                    </div>
                    <div>
                        <p class="text-[10px] uppercase tracking-wider text-white/60">Estimasi Harga</p>
                        <p id="totalPrice" class="text-2xl font-bold tracking-tight text-white">Rp0</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script type="module" src="./custom.js"></script>

    <script>
        const syncValues = () => {
            const controls = [
                { input: 'width', display: 'widthValue' },
                { input: 'height', display: 'heightValue' },
                { input: 'depth', display: 'depthValue' },
                { input: 'rackCols', display: 'rackColsValue' },
                { input: 'rackRows', display: 'rackRowsValue' }
            ];

            controls.forEach(item => {
                const inputEl = document.getElementById(item.input);
                const displayEl = document.getElementById(item.display);

                if (inputEl && displayEl) {
                    // Set angka awal saat load
                    displayEl.innerText = inputEl.value;

                    // Update angka saat input berubah
                    inputEl.addEventListener('input', () => {
                        displayEl.innerText = inputEl.value;
                    });
                }
            });
        };

        // Jalankan sinkronisasi
        window.addEventListener('DOMContentLoaded', syncValues);
    </script>
</body>
</html>